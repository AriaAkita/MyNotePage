(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{382:function(t,a,s){"use strict";s.r(a);var e=s(42),r=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"nginx"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nginx"}},[t._v("#")]),t._v(" Nginx")]),t._v(" "),s("p",[t._v("ここは、"),s("code",[t._v("Nginx")]),t._v("のことを書いているよ")]),t._v(" "),s("h2",{attrs:{id:"nginxでのパフォーマンスについて"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nginxでのパフォーマンスについて"}},[t._v("#")]),t._v(" Nginxでのパフォーマンスについて")]),t._v(" "),s("p",[t._v("Webサーバで通信のパフォーマンスを上げるなら、キャッシュをするかGZIPをすればいいよ")]),t._v(" "),s("h3",{attrs:{id:"キャッシュをする方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#キャッシュをする方法"}},[t._v("#")]),t._v(" キャッシュをする方法")]),t._v(" "),s("p",[t._v("画像とかPDFやフォントをキャッシュしたいなら、どこかのconfファイルにしたの設定をする")]),t._v(" "),s("div",{staticClass:"language-nginx extra-class"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("server")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("location")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("~")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("\\"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("jpe"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v("g"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("gif"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("pdf"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("png"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("ico"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("swf"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("inc"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("svg"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("zip"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("eot"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("otf"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("ttf"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("woff"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("woff2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("expires")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("access_log")]),t._v(" off"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    \t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("open_file_cache")]),t._v(" max"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v(" inactive"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h4",{attrs:{id:"expires"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#expires"}},[t._v("#")]),t._v(" expires")]),t._v(" "),s("p",[s("code",[t._v("expires")]),t._v("はクライアントでキャッシュする期間を指しているよ")]),t._v(" "),s("h4",{attrs:{id:"access-log"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#access-log"}},[t._v("#")]),t._v(" access_log")]),t._v(" "),s("p",[s("code",[t._v("access_log")]),t._v("はアクセスログに記録するかを指しているよ")]),t._v(" "),s("h4",{attrs:{id:"open-file-cache"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#open-file-cache"}},[t._v("#")]),t._v(" open_file_cache")]),t._v(" "),s("p",[s("code",[t._v("open_file_cache")]),t._v("は、"),s("code",[t._v("max")]),t._v("と"),s("code",[t._v("inactive")]),t._v("があるよ")]),t._v(" "),s("h5",{attrs:{id:"max"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#max"}},[t._v("#")]),t._v(" max")]),t._v(" "),s("p",[s("code",[t._v("max")]),t._v("は、キャッシュが格納できるエントリ数を決めていて、キャッシュのファイル数が"),s("code",[t._v("max")]),t._v("を超えたら古いファイルから消える")]),t._v(" "),s("h5",{attrs:{id:"inactive"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#inactive"}},[t._v("#")]),t._v(" Inactive")]),t._v(" "),s("p",[t._v("キャッシュエントリを格納しておく秒数で、簡単にいうとアクセスがないキャッシュの有効期限のこと。キャッシュエントリーにアクセスがあると最初から有効期限が設定される。")]),t._v(" "),s("h3",{attrs:{id:"gzipで圧縮する方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gzipで圧縮する方法"}},[t._v("#")]),t._v(" GZIPで圧縮する方法")]),t._v(" "),s("p",[t._v("GZIP")]),t._v(" "),s("div",{staticClass:"language-nginx extra-class"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("server")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("location")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("gzip")]),t._v(" on"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("gzip_types")]),t._v(" application"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("html image"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("jpeg"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("gzip_static")]),t._v(" always"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h4",{attrs:{id:"gzip"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gzip"}},[t._v("#")]),t._v(" gzip")]),t._v(" "),s("p",[s("code",[t._v("gzip on")]),t._v("を書くとgzipを使うことになるよ")]),t._v(" "),s("h4",{attrs:{id:"gzip-types"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gzip-types"}},[t._v("#")]),t._v(" gzip_types")]),t._v(" "),s("p",[t._v("gipしたいコンテンツタイプを指定するよ")]),t._v(" "),s("h4",{attrs:{id:"gzip-static"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gzip-static"}},[t._v("#")]),t._v(" gzip_static")]),t._v(" "),s("p",[s("code",[t._v("gzip_static")]),t._v("は、毎回圧縮するのはサーバの負荷がかかるので、１度作ったgzipがあったらそれを使うか決めるディレクティブ")])])}),[],!1,null,null,null);a.default=r.exports}}]);