(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{394:function(t,s,a){"use strict";a.r(s);var e=a(42),r=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"jwt"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jwt"}},[t._v("#")]),t._v(" JWT")]),t._v(" "),a("h2",{attrs:{id:"jwtについて"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jwtについて"}},[t._v("#")]),t._v(" JWTについて")]),t._v(" "),a("p",[a("code",[t._v("JWT")])]),t._v(" "),a("h3",{attrs:{id:"jwt-json-web-token"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jwt-json-web-token"}},[t._v("#")]),t._v(" JWT(JSON Web Token)")]),t._v(" "),a("p",[t._v("JSON Web Tokenの略で、クレーム属性情報を安全にやり取りするためのJSONデータ構造で表したTokenの仕様のこと")]),t._v(" "),a("p",[t._v("クレームのまとめたもJSONオブジェクト文字列をJWSやJWEにエンコードして、クレームのデジタル署名やMACと暗号化の両方ができる")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("読み方は"),a("code",[t._v("jot")]),t._v("で同じ発音")])]),t._v(" "),a("h4",{attrs:{id:"jwtの構造"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jwtの構造"}},[t._v("#")]),t._v(" JWTの構造")]),t._v(" "),a("p",[t._v("JWTは基本JSONで次のデータ構造を持ってる")]),t._v(" "),a("p",[t._v("実際のデータはBase64urlでエンコードされていて、keyとvalueのペアになるようになってる")]),t._v(" "),a("ul",[a("li",[t._v("JWT ヘッド\n"),a("ul",[a("li",[t._v("パラメータ名")]),t._v(" "),a("li",[t._v("パラメータ値")])])]),t._v(" "),a("li",[t._v("JWTクレームセット（ペイロード）\n"),a("ul",[a("li",[t._v("クレーム\n"),a("ul",[a("li",[t._v("クレーム名")]),t._v(" "),a("li",[t._v("クレーム値")])])])])]),t._v(" "),a("li",[t._v("署名")])]),t._v(" "),a("h4",{attrs:{id:"jwtヘッダ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jwtヘッダ"}},[t._v("#")]),t._v(" JWTヘッダ")]),t._v(" "),a("p",[a("code",[t._v("アルゴリズム")]),t._v("と"),a("code",[t._v("Tokenのタイプ")]),t._v("を設定するよ")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"alg"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"HS256"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"typ"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"JWT"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h4",{attrs:{id:"jwtクレーム"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jwtクレーム"}},[t._v("#")]),t._v(" JWTクレーム")]),t._v(" "),a("p",[t._v("JWTクレームセットはJSONオブジェクトで、それぞれのメンバはJTWとして送られるクレームになる")]),t._v(" "),a("p",[t._v("ちなみにクレーム名は一意でないといけない")]),t._v(" "),a("p",[t._v("JWTを受信する時に、クレーム名が重複したJWTは拒否するか重複している最後のメンバ名だけ編訳するJASONパーサを利用しなければいけない")]),t._v(" "),a("h4",{attrs:{id:"予約済クレーム名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#予約済クレーム名"}},[t._v("#")]),t._v(" 予約済クレーム名")]),t._v(" "),a("p",[t._v("下にあげるクレーム名は予約済みのクレーム名なので使用できないよ")]),t._v(" "),a("h5",{attrs:{id:"iss-issuer-クレーム"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#iss-issuer-クレーム"}},[t._v("#")]),t._v(' "iss"（Issuer）クレーム')]),t._v(" "),a("p",[t._v("iss(Issuer)クレームはJWTの発行者の識別子のこと")]),t._v(" "),a("h5",{attrs:{id:"sub-subject-クレーム"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sub-subject-クレーム"}},[t._v("#")]),t._v(' "sub"（Subject）クレーム')]),t._v(" "),a("p",[t._v("sub（subject）クレームはJWTの主語となる主体")]),t._v(" "),a("h5",{attrs:{id:"aud-audience-クレーム"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#aud-audience-クレーム"}},[t._v("#")]),t._v(' "aud"（Audience）クレーム')]),t._v(" "),a("p",[t._v("aud（Audience）クレームはJWT")]),t._v(" "),a("h5",{attrs:{id:"exp-expiration-time-クレーム"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#exp-expiration-time-クレーム"}},[t._v("#")]),t._v(' "exp"（Expiration Time）クレーム')]),t._v(" "),a("p",[t._v("exp")]),t._v(" "),a("h5",{attrs:{id:"nbf-not-before-クレーム"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nbf-not-before-クレーム"}},[t._v("#")]),t._v(' "nbf" (not before) クレーム')]),t._v(" "),a("p",[t._v("nbf")]),t._v(" "),a("h5",{attrs:{id:"iat-issued-at-クレーム"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#iat-issued-at-クレーム"}},[t._v("#")]),t._v(' "iat" (Issued At) クレーム')]),t._v(" "),a("p",[t._v("iat")]),t._v(" "),a("h5",{attrs:{id:"jti-jwt-id-クレーム"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jti-jwt-id-クレーム"}},[t._v("#")]),t._v(' "jti" (JWT ID) クレーム')]),t._v(" "),a("p",[t._v("Jti")]),t._v(" "),a("h5",{attrs:{id:"typ-type-クレーム"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#typ-type-クレーム"}},[t._v("#")]),t._v(' "typ" (Type) クレーム')]),t._v(" "),a("p",[t._v("typ")]),t._v(" "),a("h3",{attrs:{id:"jws-json-web-signeture"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jws-json-web-signeture"}},[t._v("#")]),t._v(" JWS(JSON Web Signeture)")]),t._v(" "),a("p",[t._v("JSONが元のデータ構造で、デジタル証明やMessage Authentication Codes(MACs)で保護されたコンテンツを表現するためのもの")]),t._v(" "),a("p",[t._v("JWSヘッダとJWSペイロード、JWS 署名 で構成される")])])}),[],!1,null,null,null);s.default=r.exports}}]);